<template name="fileEditor" args="model hide">
  <script>
    var file = model.file
  </script>
  <div if="file" class="file-editor">
    <form if="model.mode === 'mkfile'" key="mkfile" onsubmit="{model.mkfile(this.filename.value); hide()}">
      <div class="form-group">
        <label for="name">Add new file</label>
        <div class="input-group">
          <input type="text" class="form-control input-sm" id="filename" value="{file.relativePath + '/'}">
          <span class="input-group-btn">
            <button class="btn btn-primary btn-sm" type="submit">OK</button>
            <button class="btn btn-secondary btn-sm" type="button" onclick="{hide()}">Cancel</button>
          </span>
        </div>
      </div>
    </form>
    <form if="model.mode === 'mkdir'" key="mkdir" onsubmit="{model.mkdir(this.dirname.value); hide()}">
      <div class="form-group">
        <label for="name">Add new folder</label>
        <div class="input-group">
          <input type="text" class="form-control input-sm" id="dirname" value="{file.relativePath + '/'}">
          <span class="input-group-btn">
            <button class="btn btn-primary btn-sm" type="submit">OK</button>
            <button class="btn btn-secondary btn-sm" type="button" onclick="{hide()}">Cancel</button>
          </span>
        </div>
      </div>
    </form>
    <form if="model.mode === 'rename'" key="rename" onsubmit="{model.rename(file.relativePath, this.rename.value); hide()}">
      <div class="form-group">
        <label for="name">Rename</label>
        <div class="input-group">
          <input type="text" class="form-control input-sm" id="rename" value="{file.relativePath}">
          <span class="input-group-btn">
            <button class="btn btn-primary btn-sm" type="submit">OK</button>
            <button class="btn btn-secondary btn-sm" type="button" onclick="{hide()}">Cancel</button>
          </span>
        </div>
      </div>
    </form>
  </div>
</template>
